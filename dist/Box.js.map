{
  "version": 3,
  "file": "Box.js",
  "sourceRoot": "..",
  "sources": [
    "components/Box.coffee"
  ],
  "names": [],
  "mappings": "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",
  "sourcesContent": [
    "import {createElement,useState,useEffect,useRef,useContext} from 'react'\nimport LayoutContext from './LayoutContext'\nimport BoxContext from './BoxContext'\nimport cn from 'classnames'\n\nimport {clampPosition,getPosition,fixAlign,guessAlign,clampHeight} from './Align'\n\nh = createElement\n\nMIN_HEIGHT = 50\n\n\nBox = (props,state)->\n\n\t[visible,setVisible] = useState(false)\n\t[height_overflow,setHeight] = useState([MIN_HEIGHT,0])\n\tself_ref = useRef(null)\n\tcontent_ref = useRef(null)\n\t\n\theight = height_overflow[0]\n\t# log height\n\tstyle = \n\t\toverflowY: height_overflow[1]\n\t\n\tcontext = useContext(LayoutContext)\n\tself_context = \n\t\tstartDrag: context.startDrag\n\t\tstopDrag: context.stopDrag\n\n\t\n\tself_width = props.width || 320\n\t\n\tuseEffect ()->\n\t\tif content_ref.current\n\t\t\tcontent_height = content_ref.current?.scrollHeight || MIN_HEIGHT\n\t\t\tset_height = clampHeight(context,content_height)\n\t\t\t# log content_height,self_height\n\t\t\tif set_height != height_overflow[0]\n\t\t\t\tself_ref.current.style.height = set_height\n\t\t\t\tif set_height < content_height\n\t\t\t\t\toverflow_y = 'scroll'\n\t\t\t\tsetHeight([set_height,overflow_y])\n\n\t\t\tif !visible\n\t\t\t\tsetVisible(true)\n\n\n\n\tif !context\n\t\treturn null\n\n\n\t\n\t\n\t# content_height = content_ref.current?.scrollHeight || MIN_HEIGHT\n\t# [style.overflowY,self_height] = adjustHeight(context,self_width,content_height)\n\t# log content_height,self_height\n\t# log self_height\n\tstyle.minHeight = MIN_HEIGHT\n\tstyle.height = height\n\n\n\t\n\tif props.align\n\t\talign_key = props.align\n\t\t# log 'FORCE ALIGN FOR ',context.selected_label,' : ',align_key\n\telse\n\t\talign_key = guessAlign(self_width,height,context)\n\t\t[x,y] = getPosition(self_width,height,context,align_key)\n\t\talign_key = fixAlign(align_key,context,self_width,height)\n\t\t# log 'FIX ALIGN FOR ',context.selected_label,' : ',align_key\n\n\tif props.position\n\t\tself_x = props.position[0]\n\t\tself_y = props.position[1]\n\telse if context.root\n\t\tself_x = context.x\n\t\tself_y = context.y\n\telse\n\t\t[self_x,self_y] = getPosition(self_width,height,context,align_key)\n\t\t# log self_x,self_y\n\t\t[offset_x,offset_y] = clampPosition(context,self_x,self_y,self_width,height,align_key)\n\t\tself_x += offset_x\n\t\tself_y += offset_y\n\t\t# [self_width]\n\n\t\t\n\t\n\t\n\t# style.zIndex = props.select && 666 || 1\n\tstyle.zIndex = context.depth + 1 + 888\n\tstyle.left = self_x+'px'\n\tstyle.top = self_y+'px'\n\tstyle.width = self_width\n\t\n\t\n\t\n\n\th 'div',\n\t\tref: self_ref\n\t\tstyle: style\n\t\tclassName: cn 'ed-box',!visible && 'ed-hidden',style.overflowY == 'scroll' && 'ed-scroll','noselect'\n\t\th 'div',\n\t\t\tcn:'ed-box-inner'\n\t\t\tstyle:\n\t\t\t\tminHeight: MIN_HEIGHT\n\n\t\t\t\tpaddingTop: !props.title && '0.425em'\n\t\t\tref: content_ref\n\t\t\t(props.title || props.label) && (h 'div',\n\t\t\t\tclassName: cn 'ed-box-title',props.stickyTitle && 'ed-box-title-sticky'\n\t\t\t\th 'div',\n\t\t\t\t\tclassName: 'ed-in-label-colon'\n\t\t\t\t\t'# '\n\t\t\t\t(props.title || props.label)\t\n\t\t\t) || null\n\t\t\tprops.description && (h 'div',\n\t\t\t\tclassName: 'ed-description'\n\t\t\t\tprops.description\n\t\t\t) || null\n\t\t\th 'div',\n\t\t\t\tclassName: 'ed-box-content'\n\t\t\t\th BoxContext.Provider,\n\t\t\t\t\tvalue: self_context\n\t\t\t\t\tprops.children\n\t\t\t\n\n\t\t\n\nexport default Box"
  ]
}