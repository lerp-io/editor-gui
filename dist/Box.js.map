{
  "version": 3,
  "file": "Box.js",
  "sourceRoot": "..",
  "sources": [
    "components/Box.coffee"
  ],
  "names": [],
  "mappings": "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",
  "sourcesContent": [
    "import {createElement,useState,useEffect,useRef,useContext} from 'react'\nimport LayoutContext from './LayoutContext'\nimport BoxContext from './BoxContext'\nimport cn from 'classnames'\n\nimport {clampPosition,getPosition,fixAlign,guessAlign,clampHeight,clampWidth} from './Align'\n\nh = createElement\n\nMIN_HEIGHT = 50\nMIN_WIDTH = 300\nBAR_DIM = 12\nREBAR_DIM = 4\n\nBox = (props,state)->\n\n\t[visible,setVisible] = useState(false)\n\t[dim_overflow,setDim] = useState([MIN_HEIGHT,0])\n\t# [width_overflow,setWidth] = useState([MIN_WIDTH,0])\n\tself_ref = useRef(null)\n\tcontent_ref = useRef(null)\n\t\n\theight = dim_overflow[0]\n\twidth = dim_overflow[2]\n\tstyle = \n\t\toverflowY: dim_overflow[1]\n\t\toverflowX: dim_overflow[3]\n\t\n\tcontext = useContext(LayoutContext)\n\tself_context = \n\t\tstartDrag: context.startDrag\n\t\tstopDrag: context.stopDrag\n\n\n\n\tuseEffect ()->\n\t\tif content_ref.current\n\n\t\t\tcontent_width = Math.max(content_ref.current?.scrollWidth || 0,MIN_WIDTH)\n\t\t\tcontent_height = Math.max(content_ref.current?.scrollHeight || 0,MIN_HEIGHT)\n\t\t\t\n\t\t\tset_height = clampHeight(context,content_height)\n\t\t\tset_width = clampWidth(context,content_width)\n\t\t\t\n\t\t\tif set_width < content_width\n\t\t\t\toverflow_x = 'scroll'\n\t\t\telse\n\t\t\t\toverflow_x = undefined\n\t\t\t\n\t\t\tif set_height < content_height\n\t\t\t\toverflow_y = 'scroll'\n\t\t\telse\n\t\t\t\toverflow_y = undefined\n\t\t\t\n\t\t\tif set_width != dim_overflow[2] || set_height != dim_overflow[0] || overflow_y != dim_overflow[1] || overflow_x != dim_overflow[3]\n\t\t\t\tself_ref.current.style.width = set_width\n\t\t\t\tself_ref.current.style.height = set_height\n\t\t\t\tsetDim([set_height,overflow_y,set_width,overflow_x])\n\n\t\t\tif !visible\n\t\t\t\tsetVisible(true)\n\n\n\tif !context\n\t\treturn null\n\n\n\tstyle.minHeight = MIN_HEIGHT\n\tstyle.height = height\n\tstyle.width = width\n\n\t\n\tif props.align\n\t\talign_key = props.align\n\telse\n\t\talign_key = guessAlign(width,height,context)\n\t\t[x,y] = getPosition(width,height,context,align_key)\n\t\talign_key = fixAlign(align_key,context,width,height)\n\n\n\tif props.position\n\t\tself_x = props.position[0]\n\t\tself_y = props.position[1]\n\telse if context.root\n\t\tself_x = context.x\n\t\tself_y = context.y\n\telse\n\t\t[self_x,self_y] = getPosition(width,height,context,align_key)\n\t\t[offset_x,offset_y] = clampPosition(context,self_x,self_y,width,height,align_key)\n\t\tself_x += offset_x\n\t\tself_y += offset_y\n\t\t\n\n\tstyle.zIndex = context.depth + 1 + 888\n\tstyle.left = self_x+'px'\n\tstyle.top = self_y+'px'\n\t\n\t\n\th 'div',\n\t\tref: self_ref\n\t\tstyle: style\n\t\tclassName: cn 'ed-box',!visible && 'ed-hidden','noselect'\n\t\th 'div',\n\t\t\tcn:'ed-box-inner'\n\t\t\tstyle:\n\t\t\t\tminHeight: MIN_HEIGHT\n\t\t\t\tpaddingTop: !props.title && '0.425em'\n\t\t\tref: content_ref\n\t\t\t(props.title || props.label) && (h 'div',\n\t\t\t\tclassName: cn 'ed-box-title',props.stickyTitle && 'ed-box-title-sticky'\n\t\t\t\th 'div',\n\t\t\t\t\tclassName: 'ed-in-label-colon'\n\t\t\t\t\t'# '\n\t\t\t\t(props.title || props.label)\t\n\t\t\t) || null\n\t\t\tprops.description && (h 'div',\n\t\t\t\tclassName: 'ed-description'\n\t\t\t\tprops.description\n\t\t\t) || null\n\t\t\th 'div',\n\t\t\t\tclassName: 'ed-box-content'\n\t\t\t\th BoxContext.Provider,\n\t\t\t\t\tvalue: self_context\n\t\t\t\t\tprops.children\n\t\t\t\n\n\t\t\n\nexport default Box"
  ]
}