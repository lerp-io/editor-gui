{
  "version": 3,
  "file": "In.js",
  "sourceRoot": "..",
  "sources": [
    "components/In.coffee"
  ],
  "names": [],
  "mappings": "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",
  "sourcesContent": [
    "import {createElement,useState,useEffect,useContext,useRef,useReducer} from 'react'\nimport cn from 'classnames'\nimport BoxContext from './BoxContext'\nimport parseColor from 'parse-color'\nh = createElement\n\n\n\n\n\nrenderChart = (state,props)->\n\t\n\t{ctx,rect,pan_x} = state\n\tif !ctx then return\n\n\t\n\ty_pan = props.yRange[0]\n\ty_range = props.yRange[1] - props.yRange[0]\n\t\n\tpan_x = pan_x * -1\n\tstep = props.step\n\tx_max = props.xBounds[1] + Math.floor(pan_x/step)*step\n\tx_min = Math.max(x_max-props.xRange,props.xBounds[0])\n\tx_length = Math.max(x_max - x_min,0)\n\tpan_diff = pan_x - Math.floor(pan_x/step)*step\n\t\n\t# log x_min,'-',x_max\n\tctx.clearRect(0,0,rect.width,rect.height)\n\tctx.beginPath()\n\tctx.fillStyle = props.color || 'white'\n\tctx.strokeStyle = props.color || 'white'\n\tctx.lineWidth = 1\n\n\ti = -1\n\twhile i < (x_length/step)\n\t\ti += 1\n\t\tx_val = x_min + (i * step)\n\t\ty_val = props.getY(x_val)\n\t\tif !y_val then continue\n\t\t\n\n\t\tr_left = rect.width/props.xRange * (i * step - pan_diff) \n\t\tr_top = rect.height - (rect.height/y_range * (y_val - y_pan))\n\t\tif props.chart_type == 'bar'\n\t\t\tr_width = rect.width/props.xRange\n\t\t\tr_height = (rect.height/y_range * y_val)\n\t\t\tctx.rect(r_left, r_top, r_width,r_height)\n\t\telse if props.chart_type == 'line'\n\t\t\tctx.lineTo(r_left,r_top)\n\t\n\t# ctx.closePath()\n\n\tif props.chart_type == 'bar'\n\t\tctx.fill()\n\telse\n\t\tctx.stroke()\n\t\n\n\n\t\n\n\n\nLineChart = (props)->\n\twrap_ref = useRef(null)\n\tcanvas_ref = useRef(null)\n\tcanvas_state = useRef({\n\t\tpan_x: 0\n\t})\n\tcontext = useContext(BoxContext)\n\t[rect,setRect] = useState(null)\n\t[tick_step,setTickStep] = useState(null)\n\t\n\tuseEffect ()->\n\t\tif wrap_ref.current\n\t\t\trect = wrap_ref.current.getBoundingClientRect()\n\t\t\tcanvas_state.current.rect = rect\n\t\t\tsetRect(rect)\n\t\t\t\n\t,[wrap_ref.current]\n\n\tuseEffect ()->\n\t\tif canvas_ref.current\n\t\t\t# log 'set canvas context'\n\t\t\tcanvas_state.current.ctx = canvas_ref.current.getContext('2d')\n\t\t\tsetTickStep(0)\n\t\treturn\n\t,[canvas_ref.current]\n\n\tuseEffect ()->\n\t\ttry\n\t\t\trenderChart(canvas_state.current,props)\n\t\tcatch error\n\t\t\tconsole.error(error)\n\t\t\treturn\n\t\t# setTimeout ()->\n\t\t# \tif !canvas_ref.current\n\t\t# \t\treturn\n\t\t# \tsetTickStep(tick_step+1)\n\t\t# ,100\n\t\treturn\n\t,[tick_step,props.tick_step]\n\n\n\tif rect\n\t\tcanvas = h 'canvas',\n\t\t\tref: canvas_ref\n\t\t\twidth: rect.width\n\t\t\theight: rect.height\n\t\t\tonMouseDown: (e)->\n\t\t\t\tcanvas_state.current.cx = e.clientX \n\n\t\t\t\tonDrag = (e)->\n\t\t\t\t\tx = e.clientX\n\t\t\t\t\ty = e.clientY\n\t\t\t\t\trect = canvas_ref.current.getBoundingClientRect()\n\n\t\t\t\t\ty_d = Math.abs ( y - ( rect.top + ( rect.bottom - rect.top )/2 ))\n\t\t\t\t\ty_min_d = rect.height/2\n\t\t\t\t\t\n\t\t\t\t\tif y_d > y_min_d\n\t\t\t\t\t\ty_d = 1 + (y_d - y_min_d)*.1\n\t\t\t\t\telse\n\t\t\t\t\t\ty_d = 1\n\n\n\t\t\t\t\tdiff_x = ( x - canvas_state.current.cx ) / (rect.width/props.xRange)\n\t\t\t\t\tcanvas_state.current.cx = x\n\t\t\t\t\t# log (canvas_state.current.pan_x + diff_x)\n\t\t\t\t\tpan_x = Math.min(Math.max(0,(canvas_state.current.pan_x + diff_x*y_d)),props.xBounds[1] - props.xBounds[0]-props.xRange)\n\t\t\t\t\t# log pan_x\n\t\t\t\t\tcanvas_state.current.pan_x = pan_x\n\t\t\t\t\t# log pan_x\n\t\t\t\t\t\n\t\t\t\t\t# log pan_x\n\t\t\t\t\trequestAnimationFrame renderChart.bind(null,canvas_state.current,props,context)\n\t\t\t\t\te.preventDefault()\n\t\t\t\t\te.stopPropagation()\n\t\t\t\t\treturn false\n\n\t\t\t\tonMouseOut = (e)->\n\t\t\t\t\te.stopPropagation()\n\t\t\t\t\te.preventDefault()\n\t\t\t\t\tf = e.relatedTarget || e.toElement\n\t\t\t\t\tif f && f.nodeName != \"HTML\"\n\t\t\t\t\t\treturn false\n\t\t\t\t\t# context.body.style.cursor = 'default'\n\t\t\t\t\t# context.body.removeEventListener('mousemove',onDrag)\n\t\t\t\t\t# context.body.removeEventListener('mouseup',onDragEnd)\n\t\t\t\t\t# context.body.removeEventListener('mouseout',onMouseOut)\n\t\t\t\t\tcontext.stopDrag(onDrag,onDragEnd,onMouseOut)\n\t\t\t\t\t# log 'MOUSE OUT'\n\t\t\t\t\twindow.getSelection().removeAllRanges()\n\t\t\t\t\treturn false\n\n\t\t\t\tonDragEnd = (e)->\n\t\t\t\t\te.preventDefault()\n\t\t\t\t\te.stopPropagation()\n\t\t\t\t\t# context.body.style.cursor = 'default'\n\t\t\t\t\t# context.body.removeEventListener('mousemove',onDrag)\n\t\t\t\t\t# context.body.removeEventListener('mouseup',onDragEnd)\n\t\t\t\t\t# context.body.removeEventListener('mouseout',onMouseOut)\n\t\t\t\t\tcontext.stopDrag(onDrag,onDragEnd,onMouseOut)\n\t\t\t\t\treturn false\n\t\t\t\t\n\t\t\t\t# context.body.style.cursor = 'ew-resize'\n\t\t\t\t# context.body.addEventListener 'mousemove',onDrag\n\t\t\t\t# context.body.addEventListener 'mouseup',onDragEnd\n\t\t\t\t# context.body.addEventListener 'mouseout',onMouseOut\n\t\t\t\tcontext.startDrag(onDrag,onDragEnd,onMouseOut)\n\t\t\t\t# e.preventDefault()\n\t\t\t\t# e.stopPropagation()\n\t\t\t\t# return false\n\n\t\n\th 'div',\n\t\tclassName: 'ed-full-w'\n\t\tref: wrap_ref\n\t\tcanvas\n\n\n\n\n\n\t\nreducer = (state,action)->\n\t# if action.type == 'dragstart'\n\t# \treturn\n\t# \t\tstart_range_slider_x: action.start_range_slider_x\n\t# \t\tdrag_start_client_x: action.drag_start_client_x\n\tif action.type == 'set-color-input'\n\t\treturn\n\t\t\tcolor_input_value: action.value\n\t\n\telse if action.type == 'slide-rect'\n\t\treturn\n\t\t\trange_rect: action.value\n\t\n\telse if action.type == 'text'\n\t\treturn \n\t\t\ttext_value: action.value\n\t\n\telse if action.type == 'rangeslide'\n\t\treturn\n\t\t\trange_slider_x: action.range_slider_x\n\ninitial_state =\n\ttext:null\n\trange_slider_x: 0\n\tcolor_input_value: null\n\n\n\nIn = (props)->\n\t[state,dispatch] = useReducer(reducer,initial_state) \n\t[is_dragging,isDragging] = useState(false)\n\t[step_value,setStepValue] = useState(undefined)\n\n\t\n\tcontext = useContext(BoxContext)\n\touter_range_ref = useRef(null)\n\tslider_state_ref = useRef({})\n\tinput_ref = useRef(null)\n\n\n\tif props.label\n\t\tlabel = h 'div',\n\t\t\tclassName: 'ed-in-label ed-flex-right'\n\t\t\tstyle:\n\t\t\t\tcolor: props.labelColor\n\t\t\tprops.label\n\t\t\t# h 'div',\n\t\t\t# \tclassName:'ed-in-label-colon'\n\t\t\t# \tprops.type != 'toggle' && ':'\n\n\tuseEffect ()->\n\t\tif props.value != state.color_input_value && props.type == 'color'\n\t\t\tdispatch\n\t\t\t\ttype: 'set-color-input'\n\t\t\t\tvalue: props.value\n\n\t\tif props.step?\n\t\t\tif Math.floor(step_value/props.step)*props.step != Math.floor(props.value/props.step)*props.step\n\t\t\t\tsetStepValue(props.value)\n\t\t\n\t,[props.value]\n\n\n\n\tswitch props.type\n\t\twhen 'static'\n\t\t\tinput = undefined\n\t\twhen 'plain','label'\n\t\t\tinput = h 'div',\n\t\t\t\tclassName: 'ed-input full-w ed-input-plain'\n\t\t\t\tstyle:\n\t\t\t\t\tbackground: props.backgroundColor\n\t\t\t\t\tcolor: props.valueColor\n\t\t\t\tprops.value\n\t\t\t\t\n\t\twhen 'text','number'\n\t\t\tinput = h 'input',\n\t\t\t\ttype: props.type\n\t\t\t\tdisabled: props.disabled\n\t\t\t\tclassName: 'ed-input'\n\t\t\t\tstyle:\n\t\t\t\t\tbackground: props.backgroundColor\n\t\t\t\t\tcolor: props.valueColor\n\t\t\t\tonChange: (e)->\n\t\t\t\t\tif props.commit || context.dispatch\n\t\t\t\t\t\tdispatch\n\t\t\t\t\t\t\ttype: props.type\n\t\t\t\t\t\t\tvalue: e.target.value\n\t\t\t\t\t\n\t\t\t\t\tif context.dispatch\n\t\t\t\t\t\tcontext.dispatch\n\t\t\t\t\t\t\ttype: props.type\n\t\t\t\t\t\t\tvalue: e.target.value\n\t\t\t\t\t\n\t\t\t\t\tif !props.commit && !context.commit && props.set\n\t\t\t\t\t\tprops.set(e.target.value)\n\t\t\t\t\n\t\t\t\tvalue: props.value\n\t\t\n\t\twhen 'toggle'\n\t\t\tinput = h 'div',\n\t\t\t\tclassName: 'ed-toggle-outer'\n\t\t\t\tstyle:\n\t\t\t\t\tbackgroundColor: props.backgroundColor\n\t\t\t\tonClick: ()->\n\t\t\t\t\tif props.commit || context.dispatch\n\t\t\t\t\t\tdispatch\n\t\t\t\t\t\t\ttype: 'toggle'\n\t\t\t\t\t\t\tvalue: !props.value\n\t\t\t\t\t\n\t\t\t\t\tif context.dispatch\n\t\t\t\t\t\tcontext.dispatch\n\t\t\t\t\t\t\ttype: 'toggle'\n\t\t\t\t\t\t\tvalue: !props.value\n\t\t\t\t\t\n\t\t\t\t\tif !props.commit && !context.commit && props.set\n\t\t\t\t\t\tprops.set(!props.value)\n\t\t\t\th 'div',\n\t\t\t\t\tclassName: cn 'ed-toggle-inner',props.value && 'ed-toggle-active'\n\t\t\t\t\tstyle:\n\t\t\t\t\t\tbackgroundColor: props.value && props.valueColor || undefined\n\t\t\n\t\twhen 'range'\n\t\t\tif outer_range_ref.current\n\t\t\t\trange_rect = outer_range_ref.current.getBoundingClientRect()\n\t\t\t\tprops_value = Number(props.value)\n\t\t\t\tif props.step?\n\t\t\t\t\tprops_value = Math.floor(step_value/props.step)*props.step\n\t\t\t\t\n\t\t\t\tmax = props.max || 1\n\t\t\t\tmin = props.min || 0\n\n\t\t\t\tprops_value = Math.min(Math.max(props_value,min),max)\n\t\t\t\tvalue_alpha = (props_value-min) / (max - min)\n\t\t\t\t# log props_value,value_alpha\n\t\t\t\t\n\t\t\t\trange_slider_x = value_alpha * (range_rect.width-6)\n\t\t\t\t# log value_alpha,(range_rect.width-6),range_slider_x,props.step\n\t\t\t\t\n\t\t\t\tif props.step?\n\t\t\t\t\tslider_state_ref.current.range_slider_x = ((step_value-min) / (max - min)) * (range_rect.width-6)\n\t\t\t\telse\n\t\t\t\t\tslider_state_ref.current.range_slider_x = range_slider_x\n\t\t\telse\n\t\t\t\trange_slider_x = 0\n\t\t\t\t\n\t\t\t\n\t\t\tprops_range_value = Number(props.value).toFixed(if props.toFixed? then props.toFixed else 2)\n\n\t\t\tvalue_label = h 'div',\n\t\t\t\tclassName: cn 'ed-range-value',value_alpha > .5 && 'ed-range-value-left',props.snapValueToEdge && 'ed-range-value-snap'\n\t\t\t\tprops_range_value\n\t\t\t\n\t\t\tinput = h 'div',\n\t\t\t\tclassName: cn 'ed-range-outer'\n\t\t\t\tref: outer_range_ref\n\t\t\t\tstyle:\n\t\t\t\t\tcolor: if props.valueColor? then props.valueColor else undefined \n\t\t\t\t\tbackgroundColor: props.backgroundColor\n\t\t\t\tonMouseDown: (e)->\n\t\t\t\t\t\n\t\t\t\t\tslider_state_ref.current.cx = e.clientX \n\t\t\t\t\told_value = null\n\t\t\t\t\tonDrag = (e)->\n\t\t\t\t\t\trange_rect = outer_range_ref.current.getBoundingClientRect()\n\t\t\t\t\t\t\n\t\t\t\t\t\tx = e.clientX\n\t\t\t\t\t\ty = e.clientY\n\n\t\t\t\t\t\ty_d = Math.abs ( y - ( range_rect.top + ( range_rect.bottom - range_rect.top )/2 ))\n\t\t\t\t\t\ty_min_d = range_rect.height/2\n\t\t\t\t\t\t\n\t\t\t\t\t\tif y_d > y_min_d\n\t\t\t\t\t\t\ty_d = 1 + (y_d - y_min_d)*.1\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\ty_d = 1\n\n\t\t\t\t\t\t\n\t\t\t\t\t\tdiff_x = ( x - slider_state_ref.current.cx ) / y_d\n\t\t\t\t\t\t\n\t\t\t\t\t\tslider_state_ref.current.cx = x\n\t\t\t\t\t\trange_slider_x = Math.min(Math.max(0,slider_state_ref.current.range_slider_x + diff_x),range_rect.width-6)\n\t\t\t\t\t\tvalue_alpha = range_slider_x/(range_rect.width-6)\n\t\t\t\t\t\tmin =  (props.min || 0)\n\t\t\t\t\t\tmax = (props.max || 1)\n\t\t\t\t\t\tvalue = min + (max - min)*value_alpha\n\t\t\t\t\t\t\n\n\t\t\t\t\t\tif props.step?\n\t\t\t\t\t\t\t# log value,'/',props.step,'*',props.step\n\t\t\t\t\t\t\tnew_value = Math.min(Math.max(Math.floor(value/props.step)*props.step,min),max)\n\t\t\t\t\t\t\tsetStepValue(value)\n\t\t\t\t\t\t\tif new_value != old_value\n\t\t\t\t\t\t\t\tprops.set(new_value)\n\t\t\t\t\t\t\t\told_value = new_value\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tprops.set(value)\n\t\t\t\t\t\te.preventDefault()\n\t\t\t\t\t\te.stopPropagation()\n\t\t\t\t\t\treturn false\n\n\t\t\t\t\tonDragEnd = (e)->\n\t\t\t\t\t\te.preventDefault()\n\t\t\t\t\t\te.stopPropagation()\n\t\t\t\t\t\tcontext.stopDrag(onDrag,onDragEnd,onMouseOut)\n\t\t\t\t\t\treturn false\n\t\t\t\t\t\n\t\t\t\t\tonMouseOut = (e)->\n\t\t\t\t\t\te.stopPropagation()\n\t\t\t\t\t\te.preventDefault()\n\t\t\t\t\t\tf = e.relatedTarget || e.toElement\n\t\t\t\t\t\tif f && f.nodeName != \"HTML\"\n\t\t\t\t\t\t\treturn false\n\t\t\t\t\t\tcontext.stopDrag(onDrag,onDragEnd,onMouseOut)\n\t\t\t\t\t\t# log 'MOUSE OUT'\n\t\t\t\t\t\twindow.getSelection().removeAllRanges()\n\t\t\t\t\t\treturn false\n\n\t\t\t\t\t# context.body.style.cursor = 'ew-resize'\n\t\t\t\t\tcontext.startDrag(onDrag,onDragEnd,onMouseOut)\n\t\t\t\t\t# context.body.addEventListener 'mousemove',onDrag\n\t\t\t\t\t# context.body.addEventListener 'mouseup',onDragEnd\n\t\t\t\t\t# context.body.addEventListener 'mouseout',onMouseOut\n\t\t\t\t\n\t\t\t\th 'div',\n\t\t\t\t\tclassName: 'ed-range-slider'\n\t\t\t\t\tstyle:\n\t\t\t\t\t\ttransform: \"translate(#{range_slider_x}px,#{0}%)\"\n\t\t\t\t\t\tbackgroundColor: props.valueColor\n\t\t\t\t\t!props.snapValueToEdge && value_label || undefined\n\t\t\t\tprops.snapValueToEdge && value_label || undefined\n\n\t\twhen 'button'\n\t\t\t# log 'SET COLOR',props.color\n\t\t\tinput = h 'button',\n\t\t\t\tclassName: 'ed-button'\n\t\t\t\tstyle:\n\t\t\t\t\tcolor: props.valueColor\n\t\t\t\t\tbackground: props.backgroundColor\n\t\t\t\tonClick: (e)->\n\t\t\t\t\tprops.onSelect?(e) || props.onClick?(e) || props.set?(e)\n\t\t\t\tprops.value || 'button'\n\n\t\twhen 'color'\n\t\t\tinput = h 'div',\n\t\t\t\tclassName: 'ed-flex-right ed-full-w'\n\t\t\t\th 'div',\n\t\t\t\t\tclassName: 'ed-color-box'\n\t\t\t\t\tstyle:\n\t\t\t\t\t\tbackground: props.value\n\t\t\t\t\th 'input',\n\t\t\t\t\t\tref: input_ref\n\t\t\t\t\t\tclassName: cn 'ed-color-box-input',(props.disabled && 'ed-disabled')\n\t\t\t\t\t\tonChange: (e)->\n\t\t\t\t\t\t\tif !context.commit && props.set\n\t\t\t\t\t\t\t\tprops.set(e.target.value)\n\t\t\t\t\t\ttype: 'color'\n\n\t\t\t\th 'input',\n\t\t\t\t\ttype: 'text'\n\t\t\t\t\tdisabled: props.disabled\n\t\t\t\t\tclassName: 'ed-input'\n\t\t\t\t\tvalue: state.color_input_value || ''\n\t\t\t\t\tonChange: (e)->\n\t\t\t\t\t\tparsed_color = parseColor(e.target.value)\n\t\t\t\t\t\tif parsed_color.hex\n\t\t\t\t\t\t\tprops.set?(e.target.value)\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tdispatch\n\t\t\t\t\t\t\t\ttype: 'set-color-input'\n\t\t\t\t\t\t\t\tvalue: e.target.value\n\t\twhen 'select'\n\t\t\t# value_exists = false\n\t\t\toptions = Object.keys(props.options).map (key)->\n\t\t\t\t\n\t\t\t\th 'option',\n\t\t\t\t\tkey: key\n\t\t\t\t\tvalue:key\n\t\t\t\t\tprops.options[key]\n\t\t\t\n\t\t\tif !props.options[props.value]\n\t\t\t\toptions.unshift h 'option',\n\t\t\t\t\tkey: '-'\n\t\t\t\t\tvalue: null\n\t\t\t\t\tprops.value || '-'\n\t\t\n\t\t\tinput = h 'div',\n\t\t\t\tclassName: 'ed-flex-right ed-full-w'\n\t\t\t\th 'select',\n\t\t\t\t\tclassName: 'ed-input-select'\n\t\t\t\t\tvalue: props.value || '[select]'\n\t\t\t\t\tonChange: (e)=>\n\t\t\t\t\t\tprops.set?(e.target.value)\n\t\t\t\t\toptions\n\t\t\t\t\t\n\t\t\t\th 'div',\n\t\t\t\t\tclassName: 'ed-input-select-arrow'\n\t\t\t\t\t'▼'\n\t\t\t\t\t\t\n\t\twhen 'line-chart'\n\t\t\tinput = h 'div',\n\t\t\t\tclassName: 'ed-line-chart'\n\t\t\t\th LineChart,props\n\t\telse\n\t\t\tthrow new Error 'invalid input type'\n\t\n\n\tif props.type == 'line-chart'\n\t\treturn h 'div',\n\t\t\tclassName: 'ed-in-wrap ed-line-chart-wrap'\n\t\t\th 'div',\n\t\t\t\tclassName: 'ed-line-chart-label'\n\t\t\t\tlabel\n\t\t\tinput\n\t\n\tif props.type == 'toggle' \n\t\treturn h 'div',\n\t\t\tclassName: cn 'ed-in-wrap','ed-in-wrap-toggle',props.half && 'ed-in-half'\n\t\t\th 'div',\n\t\t\t\tclassName: 'ed-in-wrap-toggle-input'\n\t\t\t\tinput\n\t\t\t# h 'div',\n\t\t\t# \tclassName: 'ed-in-wrap-toggle-label'\n\t\t\tlabel\n\t\t\t\n\tif input?\n\t\tinput_wrapper = h 'div',\n\t\t\tclassName: cn 'ed-input-wrap',props.half && 'ed-in-half'\n\t\t\tinput\n\n\th 'div',\n\t\tclassName: cn 'ed-in-wrap',props.half && 'ed-in-half',props.type == 'plain' && 'ed-tight'\n\t\tinput_wrapper\n\t\tlabel\n\t\tprops.children\n\n\n\t\n\nexport default In"
  ]
}